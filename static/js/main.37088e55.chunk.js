(this["webpackJsonpcoe526-hw1"]=this["webpackJsonpcoe526-hw1"]||[]).push([[0],{162:function(e,a,t){e.exports=t(276)},167:function(e,a,t){},168:function(e,a,t){},169:function(e,a,t){},276:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(45),c=t.n(r),o=(t(167),t(12)),s=(t(168),t(145)),i=t.n(s),u=(t(169),t(106)),m=t(154),b=t(304),d=t(300),h=t(303),g=function(e){var a,t="";void 0!==e.flexDirection?a=e.flexDirection:(a="row",t="wrap");var n={overflowY:"scroll",border:"1px solid black",height:"45rem",padding:"1rem",paddingTop:"0",width:"100vw",display:"flex",flexDirection:a,flexWrap:t};return l.a.createElement("div",{style:n,className:" ma0"},e.children)};var f=function(e,a){var t=Math.random()-.5;return e-a*(t<0?-1:1)*Math.log(1-2*Math.abs(t))},p=t(307),v=t(311),E=t(310),y=t(309),N=t(305),O=function(e){var a=e.data;return console.log("got the data",a),l.a.createElement("div",{style:e.style},l.a.createElement(p.a,{responsive:!1,animate:{duration:100,onLoad:{duration:1e3}},domainPadding:{x:40},theme:v.a.material,padding:{top:30,bottom:90,left:30,right:30}},l.a.createElement(E.a,{label:e.name,style:{axisLabel:{padding:68,margin:20}},tickLabelComponent:l.a.createElement(y.a,{textAnchor:"start",angle:90})}),l.a.createElement(N.a,{barRatio:0,cornerRadius:2,style:{data:{fill:"#ff0000"}},alignment:"middle",labels:function(e){return e.y},data:e.data}),l.a.createElement(E.a,{dependentAxis:!0,label:"Frequency",tickFormat:function(e){return e>1e3?"".concat(e/1e3,"k"):e},style:{axisLabel:{padding:30,margin:20}}})))};function j(e){var a=e.children,t=e.value,n=e.index,r=Object(m.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),t===n&&l.a.createElement(h.a,null,a))}function x(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var S=function(e){var a=e.colmns,t=e.headers,r=e.reGenerate,c=e.sizeOrNUmber,s=e.dataHw2,i=e.privacyBudget,m=Object(n.useState)([]),h=Object(o.a)(m,2),p=h[0],v=h[1],E=Object(n.useState)([]),y=Object(o.a)(E,2),N=y[0],S=y[1],w=Object(n.useState)([]),M=Object(o.a)(w,2),A=M[0],z=M[1],B=Object(n.useState)([]),k=Object(o.a)(B,2),C=k[0],H=k[1],L=Object(n.useState)([]),D=Object(o.a)(L,2),F=D[0],W=D[1];Object(n.useEffect)((function(){z([])}),[e.reload]),Object(n.useEffect)((function(){console.log("histos"),console.log(a),console.log(s);for(var r=[],o=[],m=0;m<s[0].length;m++){for(var b=0;b<s.length;b++)o.push(Number(s[b][m]));r.push(Array(o)),o=[]}console.log("new data");for(var d=0;d<r.length;d++)r[d][0]=r[d][0].sort((function(e,a){return e-a}));console.log(r);var h,g=[[]];if(c)for(var p=0;p<r.length;p++){var E;h=p===r.length-1?Number(e.bins[0])>=70?Number(e.bins[0]):70:0===p?Number(e.bins[0])>=4?Number(e.bins[0]):4:Number(e.bins[0]),E=Number(h);for(var y=Math.max.apply(Math,Object(u.a)(r[p][0])),N=0,j=0,x=0;x<r[p][0].length;x++){r[p][0][x]<h?j++:(g[p].push({begin:N,finish:h,count:Number(j)}),j=0,N=h,h+=E,x-=1)}0!==j&&g[p].push({begin:N,finish:y,count:Number(j)}),p!==r.length-1&&g.push([])}else for(var w=0;w<r.length;w++){h=r[w][0].length/Number(e.bins);for(var M=Math.max.apply(Math,Object(u.a)(r[w][0])),B=0,k=0,C=0;C<r[w][0].length;C++)k<h?k++:(g[w].push({begin:B,finish:r[w][0][C],count:Number(k)}),k=1,B=r[w][0][C]);1!==k&&g[w].push({begin:B,finish:M,count:Number(k)}),w!==r.length-1&&g.push([])}console.log(g);var L=function(e){for(var a=[[]],r=0;r<e.length;r++){for(var c=0;c<e[r].length;c++)a[r].push({x:"[".concat(e[r][c].begin,", ").concat(e[r][c].finish,")"),y:e[r][c].count});r!==e.length-1&&a.push([])}for(var o=[],s=0;s<a.length;s++)if(s===a.length-1){o.push(l.a.createElement(n.Fragment,null,l.a.createElement("div",{style:{flexBasis:"100%"}}),l.a.createElement(O,{style:{flexBasis:"50%"},name:t[s],data:a[s]}),l.a.createElement("div",{style:{flexBasis:"100%"}})))}else{o.push(l.a.createElement(O,{style:{flexBasis:"30%"},name:t[s],data:a[s]}))}return[a,o]},D=L(g);v(D[1]),console.log("mydata",D[0]);var F=function(e,a,t){for(var n;!(n>-e);)n=f(a,t);return n},G=JSON.parse(JSON.stringify(g));console.log("anonyBIns",G);for(var J=0;J<G.length;J++)for(var T=0;T<G[J].length;T++)G[J][T].count+=Math.ceil(F(G[J][T].count,0,1/i));var P=L(G);S(P[1]),console.log("myAnondata",P[0]);for(var I=[],R=0,U=0;U<G.length;U++){for(var q=0;q<G[U].length;q++)R+=Math.pow(g[U][q].count-G[U][q].count,2);R=(R/G[U].length).toFixed(3),console.log("member",R),I.push({name:t[U],MSE:Number(R),bins:c?"S(".concat(e.bins[0],")"):"N(".concat(e.bins,")")})}console.log("MSE",I),console.log("current",A);for(var X=A,Y=0;Y<X.length;Y++)I[Y].MSE=Number(((I[Y].MSE+X[Y].MSE)/2).toFixed(3)),I[Y].bins=X[Y].bins+" ".concat(I[Y].bins);console.log("totalMSE",I),z(I);for(var $=[],K=0;K<I.length;K++)$.push(l.a.createElement("p",null,"".concat(I[K].name,":  ").concat(I[K].MSE," ,Calculation Bins:").concat(I[K].bins)));console.log("displays",$),H($);for(var Q=[],V=0;V<G.length;V++){for(var Z=0,_=0,ee=0;ee<G[V].length;ee++)G[V][ee].count>Z&&(_="[".concat(G[V][ee].begin,", ").concat(G[V][ee].finish,"]"),Z=G[V][ee].count);Q.push(" ".concat(t[V],": ").concat(_," "))}console.log("MAAAAAAAXES",Q),W(Q)}),[e.reload,e.reGenerate]);var G=Object(n.useState)(0),J=Object(o.a)(G,2),T=J[0],P=J[1];return l.a.createElement("div",{className:"center"},l.a.createElement(b.a,{value:T,onChange:function(e,a){P(a)},"aria-label":"simple tabs example",centered:!0},l.a.createElement(d.a,Object.assign({label:"Histograms"},x(0))),l.a.createElement(d.a,Object.assign({label:"Stats"},x(1)))),r<2?l.a.createElement(n.Fragment,null,l.a.createElement(j,{value:T,index:0},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},l.a.createElement(g,null,l.a.createElement("div",{className:"Histograms"},p),l.a.createElement("h2",{className:"center"},"Anonymized Histograms"),l.a.createElement("div",{className:"Histograms"},N,l.a.createElement("h3",{className:"db",style:{flexBasis:"100%"}},"Noisy Maxes"),F)))),l.a.createElement(j,{value:T,index:1},l.a.createElement(g,{flexDirection:"column",className:"w-100"},l.a.createElement("h4",null,"The displayed values are for all the generated bins"),l.a.createElement("p",null,"where N(x) means used in number of bins with number x",l.a.createElement("br",null),"and S(x) means used in size of bins with size x"),C))):"")},w=[];var M=function(){var e=Object(n.useState)([{}]),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([{}]),s=Object(o.a)(c,2),u=s[0],m=s[1],b=Object(n.useState)(!1),d=Object(o.a)(b,2),h=d[0],g=d[1],f=Object(n.useState)([]),p=Object(o.a)(f,2),v=p[0],E=p[1],y=Object(n.useState)("ipumsHW2-test.csv"),N=Object(o.a)(y,2),O=N[0],j=N[1],x=Object(n.useState)(.1),M=Object(o.a)(x,2),A=M[0],z=M[1],B=Object(n.useState)(2),k=Object(o.a)(B,2),C=k[0],H=k[1],L=Object(n.useState)(2),D=Object(o.a)(L,2),F=D[0],W=D[1],G=Object(n.useState)(!1),J=Object(o.a)(G,2),T=J[0],P=J[1],I=Object(n.useState)(3),R=Object(o.a)(I,2),U=R[0],q=R[1],X=Object(n.useState)(!1),Y=Object(o.a)(X,2),$=Y[0],K=Y[1],Q=function(e){"size"===e.target.value?g(!0):g(!1),console.log(e.target.value)};return Object(n.useEffect)((function(){var e;i.a.parse(O,{header:!1,delimiter:";",download:!0,complete:function(a){console.log("Finished:",a.data),e=a.data;for(var t=[],n=0;n<e[0].length;n++)t.push(l.a.createElement("th",{className:" pa2"},e[0][n]));for(w=[l.a.createElement("thead",null,l.a.createElement("tr",null,t))],console.log(e);1===e[e.length-1].length;)e.pop();E(e.shift());for(var c=[],o=0;o<(e.length>19?19:e.length);o++){for(var s=[],i=0;i<e[o].length;i++)s.push(l.a.createElement("td",{className:" pa2"},e[o][i]));c.push(l.a.createElement("tr",null,s))}w.push(l.a.createElement("tbody",null,c));for(var u=[],b=[],d=0;d<e[0].length;d++){for(var h=0;h<e.length;h++)b.push({x:Number(e[h][d])});u.push(Array(b)),b=[]}m(u),r(e),P(!0)}})}),[$]),l.a.createElement("div",{className:"App "},l.a.createElement("div",null,l.a.createElement("h1",null,"HW2 COE526")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),K(!$),P(!1),q(3)}},l.a.createElement("label",{className:"b"}," Link to Load data (csv, with Headers): "),l.a.createElement("input",{className:"bg-lightest-blue ba b--green",type:"text",onChange:function(e){j(e.target.value)},value:O}),l.a.createElement("button",null," Load ")),l.a.createElement("div",{className:"orange bg-black-90 pa1"},l.a.createElement("p",null,"Note: This tool is used to apply differntial privacy to a given data,",l.a.createElement("br",null),"with limitation on the first and the last data to be 4 and 70 respectivally in the size",l.a.createElement("br",null),"That in order to protect your beautiful eyes")),T?l.a.createElement("div",null,l.a.createElement("table",{className:"shadow-2 ba center ma2",cellPadding:"0",cellSpacing:"0"},w)):l.a.createElement("h4",null,"Loading Data.."),l.a.createElement("div",{className:"pa2"},l.a.createElement("form",{className:"generator",onSubmit:function(e){e.preventDefault(),q(0===U?1:0)}},l.a.createElement("div",null,l.a.createElement("label",{className:"b"}," E(privacy budget) value: "),l.a.createElement("input",{className:"bg-lightest-blue ba b--green e",type:"number",step:"any",min:"0",max:"0.1",onChange:function(e){z(e.target.value)},value:A})),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",name:"sizeOrNumber",value:"number",defaultChecked:!0,onChange:Q}),l.a.createElement("label",{className:"b",for:"binsNumber"}," Number of Bins: "),l.a.createElement("input",{className:"bg-lightest-blue ba b--green e",id:"binsNumber",type:"number",min:"2",max:"19",onChange:function(e){H(e.target.value)},value:C,disabled:h?"disabled":"",style:{opacity:h?.25:1,marginLeft:"-23px"}})),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",name:"sizeOrNumber",value:"size",onChange:Q}),l.a.createElement("label",{className:"b",for:"binsSize"}," Size of Bins: "),l.a.createElement("input",{className:"bg-lightest-blue ba b--green e",id:"binsSize",type:"number",min:"2",max:"400",onChange:function(e){W(e.target.value)},value:F,disabled:h?"":"disabled",style:{opacity:h?1:.25,marginLeft:"-23px"}})),l.a.createElement("div",null,l.a.createElement("button",null," Generate ")))),l.a.createElement("div",null,l.a.createElement("h2",null,"Private Histogram"),U<3?l.a.createElement("div",null,l.a.createElement("div",{className:"Histograms"},l.a.createElement(S,{privacyBudget:A,sizeOrNUmber:h,bins:h?[F]:C,colmns:t[0].length,data:u,dataHw2:t,headers:v,reGenerate:U,reload:$}))):l.a.createElement("h3",null,"Click Generate to show Histogram & statistics...")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(275);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.37088e55.chunk.js.map